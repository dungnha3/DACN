# K·∫æ HO·∫†CH H·ª¢P NH·∫§T 4 ƒê·ªí √ÅN - H·ªÜ TH·ªêNG QU·∫¢N L√ù DOANH NGHI·ªÜP

## üìã T·ªîNG QUAN D·ª∞ √ÅN

### M√¥ t·∫£
H·ª£p nh·∫•t 4 ƒë·ªì √°n th√†nh m·ªôt h·ªá th·ªëng qu·∫£n l√Ω doanh nghi·ªáp t√≠ch h·ª£p (ERP) v·ªõi c√°c module:
1. **QLNS** - Qu·∫£n l√Ω Nh√¢n s·ª±
2. **QuanLyCongViec** - Qu·∫£n l√Ω D·ª± √°n & C√¥ng vi·ªác
3. **ChatApp** - Giao ti·∫øp n·ªôi b·ªô
4. **CloudStorage** - L∆∞u tr·ªØ File & T√†i li·ªáu

### C√¥ng ngh·ªá
- **Backend**: Spring Boot 3.5.6 (Java 21), REST API
- **Database**: SQL Server 2019+
- **Frontend Web**: React 18+ (TypeScript)
- **Mobile**: Android (Kotlin, Jetpack Compose)
- **Security**: JWT Authentication, Spring Security
- **Storage**: MinIO / AWS S3 compatible
- **Real-time**: WebSocket (STOMP)

### Team
- **Backend**: D≈©ng + Tr∆∞·ªùng
- **Frontend Web**: Nh√¢n (React)
- **Frontend Mobile**: Vi·ªát (Android/Kotlin)
- **Th·ªùi gian**: 2 th√°ng (8 tu·∫ßn)

---

## üéØ CH·ª®C NƒÇNG CH√çNH

### ‚úÖ MODULE NH√ÇN S·ª∞ (QLNS)

**Core Features:**
- ‚úÖ Qu·∫£n l√Ω Nh√¢n vi√™n (CRUD, profile, search, filter)
- ‚úÖ Qu·∫£n l√Ω Ph√≤ng ban & C∆° c·∫•u t·ªï ch·ª©c
- ‚úÖ Qu·∫£n l√Ω Ch·ª©c v·ª• & Ph√¢n quy·ªÅn
- ‚úÖ H·ª£p ƒë·ªìng lao ƒë·ªông (theo d√µi th·ªùi h·∫°n, notification)
- ‚úÖ Ch·∫•m c√¥ng c∆° b·∫£n (check-in/out web/mobile, t√≠nh gi·ªù l√†m)
- ‚úÖ T√≠nh l∆∞∆°ng c∆° b·∫£n (l∆∞∆°ng c·ª©ng + ph·ª• c·∫•p + th∆∞·ªüng)
- ‚úÖ Qu·∫£n l√Ω ngh·ªâ ph√©p (ƒëƒÉng k√Ω, duy·ªát, tracking)
- ‚úÖ Authentication & Authorization (ADMIN, MANAGER, EMPLOYEE)

---

### ‚úÖ MODULE QU·∫¢N L√ù C√îNG VI·ªÜC (Project Management)

**Core Features:**
- ‚úÖ Qu·∫£n l√Ω D·ª± √°n (CRUD, members, timeline)
- ‚úÖ Qu·∫£n l√Ω Task/Issue (Jira-like)
  - Issue types: Task, Bug, Story, Epic
  - Statuses: To Do ‚Üí In Progress ‚Üí Review ‚Üí Done (Fixed workflow)
  - Priority: Low, Medium, High, Critical
  - Assignee, Reporter
  - Estimated hours vs Actual hours (ƒë∆°n gi·∫£n)
- ‚úÖ Sprint Management (Scrum board)
- ‚úÖ Backlog Management
- ‚úÖ Kanban Board (drag & drop)
- ‚úÖ Comments & Collaboration
- ‚úÖ File attachments (t√≠ch h·ª£p Cloud Storage)
- ‚úÖ Activity History / Audit log
- ‚úÖ Dashboard & Basic Reports
  - Burndown chart (ƒë∆°n gi·∫£n)
  - Velocity chart (ƒë∆°n gi·∫£n)
  - Workload per user

---

### ‚úÖ MODULE CHAT (Internal Communication)

**Core Features:**
- ‚úÖ Chat 1-1 v√† Group chat
- ‚úÖ Project chat (auto-create khi t·∫°o project)
- ‚úÖ Tin nh·∫Øn realtime (WebSocket/STOMP)
- ‚úÖ Send text messages
- ‚úÖ Send images/files (t√≠ch h·ª£p Cloud Storage)
- ‚úÖ Message status (delivered, seen)
- ‚úÖ Edit/Delete messages
- ‚úÖ Search messages
- ‚úÖ Notifications push

**Simplified:**
- Contact list: T·∫•t c·∫£ nh√¢n vi√™n ƒë·ªÅu c√≥ th·ªÉ chat v·ªõi nhau (kh√¥ng c·∫ßn friend system ph·ª©c t·∫°p)

---

### ‚úÖ MODULE CLOUD STORAGE

**Core Features:**
- ‚úÖ Upload/Download files
- ‚úÖ Folder structure (Personal, Shared, Project folders)
- ‚úÖ File metadata (name, size, type, owner, dates)
- ‚úÖ File sharing (public link, permission-based)
  - Permissions: VIEW, DOWNLOAD, EDIT
  - Public links v·ªõi expiry
- ‚úÖ Version control c∆° b·∫£n (l∆∞u versions, kh√¥ng diff)
- ‚úÖ Search files (by name, type)
- ‚úÖ File preview (image, PDF)
- ‚úÖ MinIO/S3 storage backend

---

## üìä DATABASE SCHEMA

### T·ªïng s·ªë b·∫£ng: **24 b·∫£ng**

#### Core Tables (4)
- `users` - User accounts (authentication)
- `nhan_vien` - Employee info
- `phong_ban` - Departments
- `chuc_vu` - Positions

#### HR Tables (4)
- `hop_dong` - Contracts
- `cham_cong` - Attendance (check-in/out)
- `bang_luong` - Salary
- `nghi_phep` - Leave requests

#### Project Management Tables (7)
- `projects` - Projects
- `project_members` - Project members
- `sprints` - Sprints
- `issue_types` - Task types (Task, Bug, Story, Epic)
- `issue_statuses` - Task statuses (To Do, In Progress, Review, Done)
- `issues` - Tasks/Issues
- `comments` - Issue comments

#### Chat Tables (4)
- `chat_rooms` - Chat rooms
- `chat_room_members` - Room members
- `messages` - Messages
- `message_status` - Message status (delivered/seen)

#### Cloud Storage Tables (3)
- `folders` - Folder structure
- `files` - File metadata
- `file_shares` - File sharing

#### System Tables (2)
- `notifications` - Notifications
- `activity_logs` - Activity logs

**Chi ti·∫øt:** Xem file [database_schema_clean.sql](database_schema_clean.sql)

---

## üìÖ K·∫æ HO·∫†CH 8 TU·∫¶N

### üîπ GIAI ƒêO·∫†N 1: SETUP & CORE (Tu·∫ßn 1-2)

#### Tu·∫ßn 1: Setup Project & Database

**D≈©ng (BE):**
- Setup Spring Boot multi-module project
- C·∫•u h√¨nh database connection
- Ch·∫°y migration script (24 b·∫£ng)
- Setup JWT Security Configuration
- Implement Authentication APIs:
  - `/api/auth/register`
  - `/api/auth/login`
  - `/api/auth/refresh`
  - `/api/auth/logout`
  - `/api/auth/me`

**Tr∆∞·ªùng (BE):**
- Setup testing framework (JUnit, Mockito)
- Setup MinIO v·ªõi Docker
- Implement User Management APIs:
  - `/api/users` (CRUD, search, pagination)
  - `/api/users/{id}/avatar` (upload)
- Setup GlobalExceptionHandler
- Vi·∫øt unit tests cho Auth & User

**Nh√¢n (FE Web):**
- Setup React project (Vite + TypeScript)
- Install dependencies (React Router, Axios, Ant Design, TanStack Query, Zustand)
- Setup Axios interceptor (JWT)
- T·∫°o Login/Register pages
- T·∫°o Main Layout (Header, Sidebar)
- T·∫°o Protected Route

**Vi·ªát (Mobile):**
- Setup Android project (Kotlin + Compose)
- C·∫•u h√¨nh dependencies (Retrofit, Room, Hilt, Coil)
- Setup MVVM architecture
- T·∫°o Login/Register screens
- Setup JWT storage (DataStore)
- Setup Navigation

---

#### Tu·∫ßn 2: User Profile & Admin

**D≈©ng (BE):**
- API `/api/auth/change-password`
- T·∫°o Entities cho HR tables
- Setup relationships (JPA)

**Tr∆∞·ªùng (BE):**
- API User profile management
- API Admin user management
- Image processing cho avatar
- Unit tests

**Nh√¢n (FE Web):**
- Profile page (view, edit, avatar upload)
- Change password modal
- Admin user management pages
- Header v·ªõi user menu dropdown

**Vi·ªát (Mobile):**
- Profile screen (view, edit, avatar)
- Change password
- Settings screen
- Bottom Navigation

---

### üîπ GIAI ƒêO·∫†N 2: HR MODULE (Tu·∫ßn 3-4)

#### Tu·∫ßn 3: Nh√¢n vi√™n, Ph√≤ng ban, Ch·ª©c v·ª•

**D≈©ng (BE):**
- API Qu·∫£n l√Ω Nh√¢n vi√™n (CRUD, search, filter)
- API Ph√≤ng ban (CRUD, members)
- Validation business logic

**Tr∆∞·ªùng (BE):**
- API Ch·ª©c v·ª• (CRUD)
- API H·ª£p ƒë·ªìng (CRUD, l·ªãch s·ª≠, expiring notification)
- Unit tests

**Nh√¢n (FE Web):**
- Trang Nh√¢n vi√™n (table, search, filter, pagination)
- Form Th√™m/S·ª≠a nh√¢n vi√™n (validation)
- Trang chi ti·∫øt nh√¢n vi√™n (tabs)
- Trang Ph√≤ng ban (CRUD)
- Trang Ch·ª©c v·ª• (CRUD)

**Vi·ªát (Mobile):**
- Employee list (search, filter, pull-to-refresh)
- Employee detail (read-only, call, chat button)
- Department list
- Offline cache v·ªõi Room Database

---

#### Tu·∫ßn 4: Ch·∫•m c√¥ng & L∆∞∆°ng

**D≈©ng (BE):**
- API Ch·∫•m c√¥ng (CRUD, check-in, check-out)
- API `/api/cham-cong/my` - Ch·∫•m c√¥ng c·ªßa user hi·ªán t·∫°i
- API `/api/cham-cong/report` - B√°o c√°o ch·∫•m c√¥ng
- Logic t√≠nh s·ªë gi·ªù l√†m, tr·∫°ng th√°i

**Tr∆∞·ªùng (BE):**
- API B·∫£ng l∆∞∆°ng (CRUD, calculate)
- API `/api/bang-luong/my` - L∆∞∆°ng c·ªßa user
- API `/api/bang-luong/export` - Export Excel (Apache POI)
- Logic t√≠nh l∆∞∆°ng: l∆∞∆°ng c∆° b·∫£n + ph·ª• c·∫•p + th∆∞·ªüng

**Nh√¢n (FE Web):**
- Trang ch·∫•m c√¥ng (calendar view, check-in/out button)
- Trang b√°o c√°o ch·∫•m c√¥ng (filter, chart)
- Trang qu·∫£n l√Ω l∆∞∆°ng (table, filter)
- Form t√≠nh l∆∞∆°ng th√°ng (admin)
- Export Excel

**Vi·ªát (Mobile):**
- Ch·∫•m c√¥ng screen (check-in/out v·ªõi GPS optional)
- L·ªãch s·ª≠ ch·∫•m c√¥ng
- Xem b·∫£ng l∆∞∆°ng c·ªßa b·∫£n th√¢n
- Push notification nh·∫Øc ch·∫•m c√¥ng

---

### üîπ GIAI ƒêO·∫†N 3: PROJECT MANAGEMENT (Tu·∫ßn 5-6)

#### Tu·∫ßn 5: Projects & Issues

**D≈©ng (BE):**
- API Projects (CRUD, members, dashboard)
- API Sprints (CRUD, start, complete)
- Logic: ch·ªâ 1 sprint ACTIVE per project

**Tr∆∞·ªùng (BE):**
- API Issues (CRUD, search, filter)
- API `/api/issues/{id}/assign` - G√°n task
- API `/api/issues/{id}/change-status`
- API Comments (CRUD)
- Auto-generate issue key (PROJ-001)

**Nh√¢n (FE Web):**
- Trang Projects (grid cards, create)
- Trang chi ti·∫øt Project:
  - Tab Overview (dashboard)
  - Tab Backlog (issues ch∆∞a v√†o sprint)
  - Tab Sprint Board (Kanban: To Do, In Progress, Review, Done)
  - Tab Members
- Modal t·∫°o/s·ª≠a issue
- Drag & drop issues gi·ªØa c√°c c·ªôt

**Vi·ªát (Mobile):**
- Project list
- Issue list (filter, sort)
- Issue detail
- Th√™m comment
- Thay ƒë·ªïi status
- Push notification khi assign task

---

#### Tu·∫ßn 6: Activity Logs & Reports

**D≈©ng (BE):**
- API Activity logs (ghi log m·ªçi CUD operations)
- API `/api/projects/{id}/activity`
- API `/api/issues/{id}/activity`

**Tr∆∞·ªùng (BE):**
- API `/api/reports/project/{id}/burndown`
- API `/api/reports/project/{id}/velocity`
- API `/api/reports/user/{id}/workload`
- API Notifications (CRUD, mark read)

**Nh√¢n (FE Web):**
- Activity timeline component
- Burndown chart (Chart.js / Recharts)
- Velocity chart
- User workload dashboard
- Notification dropdown (header)

**Vi·ªát (Mobile):**
- Notification list screen
- Activity history
- Basic charts

---

### üîπ GIAI ƒêO·∫†N 4: CHAT & STORAGE (Tu·∫ßn 7)

#### Tu·∫ßn 7: Chat Realtime & File Storage

**D≈©ng (BE):**
- Setup WebSocket configuration (STOMP)
- API Chat rooms (CRUD, direct, group)
- WebSocket `/topic/rooms/{roomId}` - Subscribe
- WebSocket `/app/rooms/{roomId}/send` - Send
- API Storage Upload/Download
- Auto-create project chat room

**Tr∆∞·ªùng (BE):**
- API Messages (pagination, search)
- API Message status (delivered, seen)
- API Folders (CRUD)
- API Files (CRUD, search)
- API File sharing (generate link, permissions)
- T√≠ch h·ª£p MinIO

**Nh√¢n (FE Web):**
- Trang Chat (sidebar rooms + chat area)
- Chat interface (bubble messages)
- Upload ·∫£nh/file trong chat
- WebSocket integration (SockJS + STOMP.js)
- Real-time updates
- File Manager (tree view, upload, download, preview)
- Share file (generate link)

**Vi·ªát (Mobile):**
- Chat list screen
- Chat conversation (WebSocket v·ªõi OkHttp)
- Send text + images
- File browser
- Upload/download files

---

### üîπ GIAI ƒêO·∫†N 5: POLISH & DEPLOY (Tu·∫ßn 8)

#### Tu·∫ßn 8: Ngh·ªâ ph√©p, Dashboards, Deployment

**D≈©ng (BE):**
- API Ngh·ªâ ph√©p (CRUD, my, pending)
- API `/api/nghi-phep/{id}/approve`
- API `/api/nghi-phep/{id}/reject`
- Send notification khi duy·ªát/t·ª´ ch·ªëi
- API Dashboard admin

**Tr∆∞·ªùng (BE):**
- API Dashboard manager
- API Dashboard employee
- Performance optimization (indexing, query tuning)
- API documentation (Swagger)
- Unit tests coverage > 70%

**Nh√¢n (FE Web):**
- Trang ngh·ªâ ph√©p (form + calendar)
- Trang duy·ªát ngh·ªâ ph√©p (manager)
- Dashboard admin (charts t·ªïng quan)
- Dashboard manager (team performance)
- Dashboard employee (my tasks, attendance)
- Responsive design
- UI polish

**Vi·ªát (Mobile):**
- ƒêƒÉng k√Ω ngh·ªâ ph√©p
- Danh s√°ch ƒë∆°n ngh·ªâ
- Dashboard c√° nh√¢n
- UI polish
- Offline support improvements

**T·∫•t c·∫£:**
- Integration testing
- Bug fixing
- Code review
- Deployment setup (Docker, Nginx, APK build)
- Documentation
- Demo presentation

---

## üöÄ KI·∫æN TR√öC H·ªÜ TH·ªêNG

### Backend Architecture (Monolith - ƒê∆°n gi·∫£n h√≥a)

```
Spring Boot Backend (Single Application)
‚îú‚îÄ‚îÄ com.company.enterprise.auth          # Authentication
‚îú‚îÄ‚îÄ com.company.enterprise.hr            # HR module
‚îú‚îÄ‚îÄ com.company.enterprise.project       # Project Management
‚îú‚îÄ‚îÄ com.company.enterprise.chat          # Chat + WebSocket
‚îú‚îÄ‚îÄ com.company.enterprise.storage       # File storage
‚îî‚îÄ‚îÄ com.company.enterprise.common        # Shared utilities
```

### Tech Stack Chi Ti·∫øt

**Backend:**
- Spring Boot 3.5.6
- Spring Security + JWT
- Spring Data JPA
- Spring WebSocket (STOMP)
- MinIO SDK
- Apache POI (Excel)
- Lombok
- JUnit + Mockito

**Frontend Web:**
- React 18 + TypeScript
- Vite
- React Router DOM v6
- TanStack Query (React Query)
- Zustand (state management)
- Axios
- Ant Design
- Chart.js / Recharts
- SockJS + STOMP.js
- React Beautiful DnD (drag & drop)

**Mobile Android:**
- Kotlin
- Jetpack Compose
- Retrofit + OkHttp
- Room Database
- Hilt (DI)
- Coil (Image loading)
- Navigation Compose
- Kotlin Coroutines + Flow
- OkHttp WebSocket

**Database:**
- SQL Server 2019+

**Storage:**
- MinIO (self-hosted S3-compatible)

---

## üìù PH√ÇN C√îNG C√îNG VI·ªÜC

### D≈©ng (Backend Developer - Lead)
**Focus:** Core infrastructure, HR, Project Management, Chat

**Deliverables:**
- Tu·∫ßn 1-2: Auth APIs, JWT Security, Database setup
- Tu·∫ßn 3-4: HR APIs (Nh√¢n vi√™n, Ph√≤ng ban, Ch·∫•m c√¥ng)
- Tu·∫ßn 5-6: Project & Sprint APIs, Activity logs
- Tu·∫ßn 7: Chat WebSocket, Storage Upload/Download
- Tu·∫ßn 8: Ngh·ªâ ph√©p APIs, Admin dashboard

**Total:** ~50 API endpoints

---

### Tr∆∞·ªùng (Backend Developer)
**Focus:** Testing, File Storage, Supporting APIs

**Deliverables:**
- Tu·∫ßn 1-2: MinIO setup, User CRUD, Testing framework
- Tu·∫ßn 3-4: Ch·ª©c v·ª•, H·ª£p ƒë·ªìng, L∆∞∆°ng + Excel export
- Tu·∫ßn 5-6: Issue APIs, Comments, Reports (charts data)
- Tu·∫ßn 7: Chat messages, File management, Sharing
- Tu·∫ßn 8: Dashboards, Performance tuning

**Total:** ~50 API endpoints, Unit tests > 70%

---

### Nh√¢n (Frontend Web Developer)
**Focus:** Full web application

**Deliverables:**
- Tu·∫ßn 1-2: Login, Layout, Profile, Admin user management
- Tu·∫ßn 3-4: HR pages (Nh√¢n vi√™n, Ch·∫•m c√¥ng, L∆∞∆°ng)
- Tu·∫ßn 5-6: Project pages (Kanban, Issue forms, Charts)
- Tu·∫ßn 7: Chat UI, File Manager
- Tu·∫ßn 8: Ngh·ªâ ph√©p, Dashboards, Polish

**Total:** ~35 pages/components

---

### Vi·ªát (Mobile Android Developer)
**Focus:** Employee mobile app

**Deliverables:**
- Tu·∫ßn 1-2: Login, Navigation, Profile
- Tu·∫ßn 3-4: Employee list/detail, Ch·∫•m c√¥ng, Offline cache
- Tu·∫ßn 5-6: Task list/detail, Push notifications
- Tu·∫ßn 7: Chat, File browser
- Tu·∫ßn 8: Ngh·ªâ ph√©p, Dashboard, Polish

**Total:** ~22 screens

---

## ‚ö†Ô∏è R·ª¶I RO & GI·∫¢I PH√ÅP

### R·ªßi ro 1: T√≠ch h·ª£p frontend-backend ch·∫≠m
**Gi·∫£i ph√°p:**
- Backend cung c·∫•p Swagger docs s·ªõm
- Frontend mock API responses
- Daily standup sync

### R·ªßi ro 2: WebSocket kh√¥ng ·ªïn ƒë·ªãnh
**Gi·∫£i ph√°p:**
- C√≥ REST API fallback
- Test WebSocket s·ªõm (tu·∫ßn 2-3)
- Long Polling n·∫øu c·∫ßn

### R·ªßi ro 3: Team member ngh·ªâ
**Gi·∫£i ph√°p:**
- Code review l·∫´n nhau
- Documentation r√µ r√†ng
- Git commit th∆∞·ªùng xuy√™n

---

## üìä METRICS & DELIVERABLES

### Cu·ªëi tu·∫ßn 2: Authentication Complete
- [x] Login/Register working
- [x] JWT authentication
- [x] Profile management

### Cu·ªëi tu·∫ßn 4: HR Module Complete
- [ ] Nh√¢n vi√™n CRUD
- [ ] Ch·∫•m c√¥ng, L∆∞∆°ng
- [ ] H·ª£p ƒë·ªìng

### Cu·ªëi tu·∫ßn 6: Project Module Complete
- [ ] Projects, Issues, Sprints
- [ ] Kanban board
- [ ] Comments, Charts

### Cu·ªëi tu·∫ßn 7: Chat & Storage
- [ ] Realtime chat
- [ ] File upload/download

### Cu·ªëi tu·∫ßn 8: Final
- [ ] All features
- [ ] Deployed

---

## üéì T√ÄI LI·ªÜU THAM KH·∫¢O

- Spring Boot: https://spring.io/
- React: https://react.dev/
- Android Compose: https://developer.android.com/jetpack/compose
- MinIO: https://min.io/docs/

---

## üöÄ DEPLOYMENT

### Backend (Docker)
```dockerfile
FROM openjdk:21-slim
COPY target/app.jar app.jar
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "app.jar"]
```

### Frontend (Vercel/Netlify)
```bash
npm run build
# Deploy dist/ folder
```

### Mobile
```bash
./gradlew assembleRelease
```

---

## üéØ K·∫æT LU·∫¨N

K·∫ø ho·∫°ch n√†y t·∫≠p trung v√†o **MVP** - t√≠nh nƒÉng c·ªët l√µi:

‚úÖ **L√†m g√¨:**
- HR: Nh√¢n vi√™n, Ch·∫•m c√¥ng, L∆∞∆°ng, Ngh·ªâ ph√©p
- Project: Tasks (Jira-like), Kanban, Sprints
- Chat: Realtime messaging (text + files)
- Storage: Upload/Download, Sharing

‚úÖ **∆Øu ti√™n:**
1. Core features working
2. Simple & effective
3. Done > Perfect

**Good luck! üöÄ**

---

**Version:** 2.0 (Clean)
**Last Updated:** 2025-10-03
**Total Tables:** 24
**Total APIs:** ~100 endpoints





